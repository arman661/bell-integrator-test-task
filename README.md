Основной метод оформления заказа реализован в микросервисе product-service com.test.task.productservice.controller.ProductController.buy

При покупке товаров выполняются следующие шаги:
* из БД выбираются все товары из ордера
* проверяется остаток товара, если кол-во достаточно, то он списывается
* если некоторых товаров нет в наличии/достаточном количестве, то оформление ордера завершается, эндпоинт возвращает 
  список товаров не в наличии (out of stock)
* если все товары успешно списаны (зарезервированы), то следующим шагом отправляем в сервис клиента счёт на оплату, 
  этот запрос отправляются туда, т.к. сервис клиента обладает информацией о номере карты клиента, 
  чтобы его не передавать по сети в несколько мест, работаем с ним там.
  По идее сначала счёт должен оказываться в банке со статусом вроде NEW или PENDING, но т.к. время ограничено, 
  просто формируем для него уникальный GUID и сразу отправляем клиенту
* в сервисе клиента формируется запрос к сервису банка на списание средств, 
  если средств недостаточно - выбрасывается исключение, иначе оплата происходит успешно, 
  в БД сервиса банка сохраняется информация о счёте (bill), средства списываются со счёта клиента (account)
* вернёмся к сервису продуктов: если запрос на оплату из сервиса клиента возвращает сообщение об ошибке, 
  то оформление ордера завершается, в другом случае - происходит запрос к сервису банка для подтверждения оплаты
* если оплата подтверждена, то заказ считается оформленным

Что можно было бы сделать ещё:
* расширить статусную модель счёта (bill)
* сделать асинхронную оплату: сервис продуктов выставляет счёт, не дожидается оплаты, заказ считается оформленным со статусом "Ожидает оплаты",
  клиент может оплатить счёт в любой момент, время оплаты ограничено таймаутом
  
Что нужно было сделать, но не сделано из-за ограниченного времени:
* нормальное логирование (задание оказалось объёмнее, больше времени хотелось уделить проработке воркфлоу совершения покупки)
* методы в контролерах расположены вперемешку, требуется разделить их на несколько контроллеров
* не для всех сущностей реализованы все операции CRUD
